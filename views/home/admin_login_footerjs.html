<!--   Core JS Files   -->
<!-- <script src="/static/assets/js/jquery-3.1.1.min.js" type="text/javascript"></script> -->

<script src="/static/plugins/jquery.min.js"></script>
<script src="/static/assets/js/jquery-ui.min.js" type="text/javascript"></script>
<script src="/static/assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/static/assets/js/material.min.js" type="text/javascript"></script>
<script src="/static/assets/js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>

<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script src="/static/assets/js/moment.min.js"></script>
<!--  Plugin for the Wizard -->
<script src="/static/assets/js/jquery.bootstrap-wizard.js"></script>
<!--  Notifications Plugin    -->
<script src="/static/assets/js/bootstrap-notify.js"></script>
<!--   Sharrre Library    -->
<script src="/static/assets/js/jquery.sharrre.js"></script>
<!-- DateTimePicker Plugin -->
<script src="/static/assets/js/bootstrap-datetimepicker.js"></script>
<!-- Vector Map plugin -->
<script src="/static/assets/js/jquery-jvectormap.js"></script>
<!-- Sliders Plugin -->
<script src="/static/assets/js/nouislider.min.js"></script>
<!-- Select Plugin -->
<script src="/static/assets/js/jquery.select-bootstrap.js"></script>
<!--  DataTables.net Plugin    -->
<script src="/static/assets/js/jquery.datatables.js"></script>
<!-- Sweet Alert 2 plugin -->
<script src="/static/assets/js/sweetalert2.js"></script>
<!-- Plugin for Fileupload -->
<script src="/static/assets/js/jasny-bootstrap.min.js"></script>
<!-- Full Calendar Plugin    -->
<script src="/static/assets/js/fullcalendar.min.js"></script>
<!-- TagsInput Plugin -->
<script src="/static/assets/js/jquery.tagsinput.js"></script>
<!-- Material Dashboard javascript methods -->
<script src="/static/assets/js/material-dashboard.js"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<script src="/static/assets/js/demo.js"></script>
<!-- Ajax请求插件 -->
<script src="/static/plugins/jquery-sdajax/jquery.sdajax.min.js"></script>
<!-- cookie plugins -->    
<script src="/static/plugins/jquery.cookie.js"></script>

<!-- iCheck -->
<script src="/static/plugins/icheck/icheck.min.js"></script>
<!-- 验证插件 -->
<script src="/static/plugins/layer-v3.1.0/layer.js"></script>
<script src="/static/plugins/jquery-validation/jquery.validate.min.js"></script>
<script src="/static/plugins/jquery-validation/localization/messages_zh.min.js"></script>
<!-- 针对当前主题进行简单封装，精简代码 -->
<!-- <script src="/static/sdtheme/scripts/sdtheme.js"></script> -->
<script src="/static/sdtheme/scripts/sdvalidate.js"></script>


<script type="text/javascript">
    //加载主题切换
    $().ready(function() {
        demo.checkFullPageBackgroundImage();

        setTimeout(function() {
            $('.card').removeClass('card-hidden');
        }, 700)
    });

    //页面初始化
    $(function () {
        pageInit();     
    })
    function pageInit() {
        //验证
        validateInfo();
    }
    //表单验证及AJAX提交
    function validateInfo() {
        var $thisForm = $('#thisForm');
        $thisForm.sdvalidate({
            rules: {
                UserName: {
                    maxlength: 24,
                    required: true
                },
                UserPwd: {
                    maxlength: 24,
                    required: true
                },
            },
            messages: {
                UserName: {
                    maxlength: "长度不大于24位",
                    required: "请输入用户名"
                },
                UserPwd: {
                    maxlength: "长度不大于24位",
                    required: "请输入密码"
                },

            },
            submitHandler: function (form) {
                var url = '{{ urlfor "HomeController.DoLogin"}}'
                var data = $thisForm.serialize();
                $.sdpost(url, data, function (re) {
                    if (re.code === 0) {                       
                        window.location.href='{{ urlfor "HomeController.Index"}}'                                         
                    } else {
                        layer.alert(re.msg, { icon: 2, title: '失败' })
                    }
                });
                return false;
            }
        });
    }
    function FormSubmit() {
        $("#thisForm").submit();
    }


</script>
